import{U as t,s as a,h as r,c as s,w as e,i as o,o as i,a as m,b as d,I as n,p as u}from"./index-CE7gXyKD.js";import{r as h,_ as p}from"./watermark.Dpp_Cumi.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const l=f({data:()=>({form:{groupId:"",name:""}}),onLoad(t){this.form.groupId=t.groupId,this.form.name=t.name},methods:{subform(r){var s=JSON.parse(JSON.stringify(this.form));this.$zmmFormCheck.check(s,{name:{rules:[{checkType:"required",errorMsg:"请填写内容"}]}})?this.$http.request({url:"/group/editGroupName",method:"POST",data:JSON.stringify(s),success:r=>{if(200==r.data.code){var s=JSON.parse(JSON.stringify(this.$store.state.chatlist[this.form.groupId])),e=JSON.parse(JSON.stringify(this.$store.state.chatDatalist[this.form.groupId]));e.groupInfo.nickName=this.form.name,this.$store.dispatch("updateChatObjById",{userId:this.form.groupId,data:e}),s.nickName=this.form.name,this.$store.dispatch("updateChatListInfoById",{userId:this.form.groupId,data:s}),this.$store.dispatch("getChatList"),t({delta:1}).then((()=>{a({title:"修改成功",icon:"success"})}))}}}):a({title:this.$zmmFormCheck.error,icon:"none",position:"bottom"})}},onNavigationBarButtonTap(t){if(0===t.index)this.subform()}},[["render",function(t,a,f,l,c,g){const I=h(r("watermark"),p),k=o,N=n,b=u;return i(),s(k,null,{default:e((()=>[m(I),m(b,{onSubmit:g.subform,class:"remarkForm"},{default:e((()=>[m(k,{class:"remarkForm-item"},{default:e((()=>[m(k,{class:"remarkForm-label"},{default:e((()=>[d("群名")])),_:1}),m(N,{class:"remarkForm-input",placeholder:"修改群名",type:"text",modelValue:c.form.name,"onUpdate:modelValue":a[0]||(a[0]=t=>c.form.name=t)},null,8,["modelValue"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})}],["__scopeId","data-v-d7f90b49"]]);export{l as default};
