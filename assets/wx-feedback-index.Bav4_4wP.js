import{s as e,h as s,c as t,w as a,i,o,a as r,Q as m,p as n}from"./index-CE7gXyKD.js";import{r as l,_ as c}from"./watermark.Dpp_Cumi.js";import{_ as d}from"./zmm-upload-image.CstjoT4s.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-icons.tBNBx2EM.js";import"./bf.BE2RdUDc.js";const u=f({data:()=>({form:{images:[],content:""}}),onLoad(){},methods:{subform(s){var t=JSON.parse(JSON.stringify(this.form)),a=this.$zmmFormCheck.check(t,{content:{rules:[{checkType:"required",errorMsg:"请填写内容"}]}});t.images=JSON.stringify(t.images),a?this.$http.request({url:"/my/feedback",method:"POST",data:JSON.stringify(t),success:s=>{200==s.data.code&&(e({title:"提交成功",icon:"success"}),this.form={images:[],content:""})}}):e({title:this.$zmmFormCheck.error,icon:"none",position:"bottom"})}},onNavigationBarButtonTap(e){if(0===e.index)this.subform()}},[["render",function(e,f,u,p,h,g){const _=l(s("watermark"),c),b=m,k=i,S=l(s("zmm-upload-image"),d),j=n;return o(),t(k,{class:"friendsCircle-send"},{default:a((()=>[r(_),r(j,{onSubmit:g.subform},{default:a((()=>[r(k,{class:"friendsCircle-send-item"},{default:a((()=>[r(b,{class:"friendsCircle-send-textarea","auto-height":"",placeholder:"建议反馈...",maxlength:"200",modelValue:h.form.content,"onUpdate:modelValue":f[0]||(f[0]=e=>h.form.content=e)},null,8,["modelValue"])])),_:1}),r(k,{class:"friendsCircle-send-item"},{default:a((()=>[r(S,{fileList:h.form.images,"onUpdate:fileList":f[1]||(f[1]=e=>h.form.images=e),limit:9},null,8,["fileList"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})}],["__scopeId","data-v-c2aa6f1f"]]);export{u as default};
