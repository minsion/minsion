import{am as e,K as t,s,h as r,c as i,w as o,i as a,o as p,a as n}from"./index-CE7gXyKD.js";import{r as c,_ as d}from"./watermark.Dpp_Cumi.js";import{_ as l}from"./l-painter.JNQkdbDU.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";const g=x({data:()=>({name:e,QRimg:""}),onLoad(e){this.getQrCode()},computed:{userInfo(){return this.$store.state.userInfo},poster(){return{css:{width:"750rpx"},views:[{css:{background:"#ffffff",width:"600rpx",display:"block",margin:"15px auto",borderRadius:"12px",padding:"34rpx",boxShadow:"0px 0px 15px rgba(0,0,0,0.1)"},type:"view",views:[{type:"view",css:{marginTop:"12rpx",display:"block",textAlign:"center"},views:[{type:"image",src:this.userInfo.portrait,css:{width:"90rpx",height:"90rpx",objectFit:"cover",objectPosition:"50% 50%",borderRadius:"50%"}}]},{type:"view",css:{display:"block",textAlign:"center"},views:[{css:{color:"#111",fontSize:"36rpx",fontWeight:"bold"},text:this.userInfo.nickName,type:"text"}]},{type:"view",css:{marginTop:"12rpx",display:"block",textAlign:"center"},views:[{css:{color:"#666",fontSize:"28rpx",textAlign:"center"},text:"ID:"+this.userInfo.chatNo,type:"text"}]},{type:"view",css:{marginTop:"24rpx",display:"block",textAlign:"center"},views:[{text:this.QRimg,type:"qrcode",css:{width:"488rpx",height:"488rpx"}}]},{type:"view",css:{marginTop:"24rpx",display:"block",textAlign:"center"},views:[{css:{color:"#999",fontSize:"26rpx",textAlign:"center"},text:"请使用《"+this.name+"》扫描二维码，加我为好友",type:"text"}]}]}]}}},onShow(){},methods:{getQrCode(){this.$http.request({url:"/my/getQrCode",success:e=>{200==e.data.code&&(this.QRimg=e.data.data)}})}},onNavigationBarButtonTap(e){if(0===e.index)t({itemList:["保存到手机"],success:e=>{if(0===e.tapIndex)s({icon:"none",title:"H5端长按保存"})},fail:e=>{console.log(e.errMsg)}})}},[["render",function(e,t,s,x,g,f){const m=c(r("watermark"),d),h=c(r("l-painter"),l),u=a;return p(),i(u,{class:"bgColor"},{default:o((()=>[n(m),n(u,{class:"QRcode-box"},{default:o((()=>[n(h,{board:f.poster,ref:"painter"},null,8,["board"])])),_:1})])),_:1})}],["__scopeId","data-v-e887396f"]]);export{g as default};
