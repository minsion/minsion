import{s as e,h as r,c as a,w as s,i as o,o as d,a as m,b as l,I as t,p}from"./index-CE7gXyKD.js";import{r as u,_ as c}from"./watermark.Dpp_Cumi.js";import{_ as i}from"./_plugin-vue_export-helper.BCo6x5W8.js";const n=i({data:()=>({form:{password:"",pwd:"",repwd:""}}),onLoad(e){},methods:{subform(r){var a=JSON.parse(JSON.stringify(this.form)),s=this.$zmmFormCheck.check(a,{password:{rules:[{checkType:"required",errorMsg:"请填写原密码"}]},pwd:{rules:[{checkType:"required",errorMsg:"请填写新密码"},{checkType:"reg",checkRule:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,16}$/,errorMsg:"密码8-16位,由数字与字母组成"}]},repwd:{rules:[{checkType:"required",errorMsg:"请再次填写新密码"},{checkType:"same",checkRule:"pwd",errorMsg:"两次密码不一致"}]}});a.password=this.$md5.hex_md5(a.password),a.pwd=this.$md5.hex_md5(a.pwd),s?this.$http.request({url:"/my/editPass",method:"POST",data:JSON.stringify(a),success:r=>{200==r.data.code&&(e({title:"修改成功",icon:"success"}),this.form={password:"",pwd:"",repwd:""})}}):e({title:this.$zmmFormCheck.error,icon:"none",position:"bottom"})}},onNavigationBarButtonTap(e){if(0===e.index)this.subform()}},[["render",function(e,i,n,f,h,w){const k=u(r("watermark"),c),_=o,F=t,y=p;return d(),a(_,null,{default:s((()=>[m(k),m(y,{onSubmit:w.subform,class:"remarkForm"},{default:s((()=>[m(_,{class:"remarkForm-item"},{default:s((()=>[m(_,{class:"remarkForm-label"},{default:s((()=>[l("原密码")])),_:1}),m(F,{class:"remarkForm-input",placeholder:"请填写原密码",type:"password",modelValue:h.form.password,"onUpdate:modelValue":i[0]||(i[0]=e=>h.form.password=e)},null,8,["modelValue"])])),_:1}),m(_,{class:"remarkForm-item"},{default:s((()=>[m(_,{class:"remarkForm-label"},{default:s((()=>[l("新密码 (密码最长8-16位且由数字与字母组合)")])),_:1}),m(F,{class:"remarkForm-input",placeholder:"请填写新密码",type:"password",modelValue:h.form.pwd,"onUpdate:modelValue":i[1]||(i[1]=e=>h.form.pwd=e)},null,8,["modelValue"])])),_:1}),m(_,{class:"remarkForm-item"},{default:s((()=>[m(_,{class:"remarkForm-label"},{default:s((()=>[l("确认密码")])),_:1}),m(F,{class:"remarkForm-input",placeholder:"请再次填写新密码",type:"password",modelValue:h.form.repwd,"onUpdate:modelValue":i[2]||(i[2]=e=>h.form.repwd=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})}],["__scopeId","data-v-5664e775"]]);export{n as default};
