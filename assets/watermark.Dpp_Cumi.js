import{A as t,ad as e,o as a,c as r,w as s,a as o,y as n,N as m,P as i,O as l,j as d,e as p,i as u,h as c}from"./index-CE7gXyKD.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w=h({data:()=>({top:0,forLength:0}),props:{maxWidth:{type:Number,default:180},rotate:{type:Number,default:-21},margin:{type:Number,default:50},watermark:{type:String,default:"水印文字"},color:{type:String,default:"#000000"},opacity:{type:Number,default:.15},show:{type:Boolean,default:!0}},mounted(){this.getstatusBarHeight()},methods:{getstatusBarHeight(){var a=t();this.top=a.safeArea.top+a.windowTop;var r=parseInt(a.screenHeight*(1.2*a.screenWidth)),s=0;e().in(this).select("#getwh").boundingClientRect((t=>{s=parseInt((t.height+this.margin)*t.width)})).exec();var o=setInterval((()=>{0==s||(clearInterval(o),this.forLength=parseInt(r/s))}),500)}}},[["render",function(t,e,c,h,w,f){const g=p,y=u;return c.show?(a(),r(y,{key:0},{default:s((()=>[o(y,{class:"zmm-watermark-box",style:n([{top:w.top+"px"},{opacity:c.opacity}])},{default:s((()=>[o(y,{class:"zmm-watermark-getwh",ref:"getwh",id:"getwh",style:n([{"max-width":c.maxWidth+"px"}])},{default:s((()=>[o(g,{nodes:c.watermark},null,8,["nodes"])])),_:1},8,["style"]),o(y,{class:"zmm-watermark-content"},{default:s((()=>[(a(!0),m(i,null,l(w.forLength,((t,e)=>(a(),r(y,{class:"zmm-watermark-text",style:n([{color:c.color},{"margin-bottom":c.margin+"px"},{"max-width":c.maxWidth+"px"},{transform:"rotate("+c.rotate+"deg)"}]),key:e},{default:s((()=>[o(g,{nodes:c.watermark},null,8,["nodes"])])),_:2},1032,["style"])))),128))])),_:1})])),_:1},8,["style"])])),_:1})):d("",!0)}],["__scopeId","data-v-28c48c6a"]]);function f(t,e){return"string"==typeof t?e:t}const g=h({name:"watermark",data:()=>({}),computed:{watermark(){return this.$store.state.watermark}}},[["render",function(t,e,s,o,n,m){const i=f(c("zmm-watermark"),w);return a(),r(i,{opacity:.05,watermark:m.watermark},null,8,["watermark"])}]]);export{g as _,f as r};
