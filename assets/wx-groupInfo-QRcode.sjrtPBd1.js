import{am as t,K as e,s,h as r,c as a,w as o,j as i,i as p,o as d,a as n}from"./index-CE7gXyKD.js";import{r as l,_ as c}from"./watermark.Dpp_Cumi.js";import{_ as u}from"./l-painter.JNQkdbDU.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const x=g({data:()=>({name:t,QRimg:"",detail:"",portraits:[]}),onLoad(t){this.getQrCode(t.groupId),this.getInfo(t.groupId)},computed:{userInfo(){return this.$store.state.userInfo},poster(){return{css:{width:"750rpx"},views:[{css:{background:"#ffffff",width:"600rpx",display:"block",margin:"15px auto",borderRadius:"12px",padding:"34rpx",boxShadow:"0px 0px 15px rgba(0,0,0,0.1)"},type:"view",views:[{type:"view",css:{display:"block",textAlign:"center"},views:[{css:{color:"#111",fontSize:"36rpx",fontWeight:"bold"},text:this.detail.group.name,type:"text"}]},{type:"view",css:{marginTop:"24rpx",display:"block",textAlign:"center"},views:[{text:this.QRimg,type:"qrcode",css:{width:"488rpx",height:"488rpx"}}]},{type:"view",css:{marginTop:"24rpx",display:"block",textAlign:"center"},views:[{css:{color:"#999",fontSize:"26rpx",textAlign:"center"},text:"请使用《"+this.name+"》扫描二维码，加入群聊",type:"text"}]}]}]}}},onShow(){},methods:{getInfo(t){this.$http.request({url:"/group/getInfo/"+t,success:t=>{if(200==t.data.code){this.detail=t.data.data;for(var e=[],s=0;s<this.detail.user.length;s++)e.push({url:this.detail.user[s].portrait});this.portraits=e}}})},getQrCode(t){this.$http.request({url:"/group/getGroupQrCode/"+t,success:t=>{200==t.data.code&&(this.QRimg=t.data.data)}})}},onNavigationBarButtonTap(t){if(0===t.index)e({itemList:["保存到手机"],success:t=>{if(0===t.tapIndex)s({icon:"none",title:"H5端长按保存"})},fail:t=>{console.log(t.errMsg)}})}},[["render",function(t,e,s,g,x,f){const h=l(r("watermark"),c),m=l(r("l-painter"),u),w=p;return x.detail?(d(),a(w,{key:0,class:"bgColor"},{default:o((()=>[n(h),n(w,{class:"QRcode-box"},{default:o((()=>[n(m,{board:f.poster,ref:"painter"},null,8,["board"])])),_:1})])),_:1})):i("",!0)}],["__scopeId","data-v-19296325"]]);export{x as default};
